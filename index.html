<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Valentine ğŸ’˜</title>
  <style>
    :root { --bg1:#ff9a9e; --bg2:#fad0c4; --card:#ffffffcc; }
    *{box-sizing:border-box;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial}
    body{
      margin:0; min-height:100vh; display:grid; place-items:center;
      background: linear-gradient(135deg,var(--bg1),var(--bg2));
      overflow:hidden;
    }
    .card{
      width:min(520px,92vw);
      padding:28px 20px;
      border-radius:22px;
      background:var(--card);
      backdrop-filter: blur(8px);
      box-shadow: 0 10px 35px rgba(0,0,0,.18);
      text-align:center;
      position:relative;
    }
    h1{margin:0 0 8px;font-size:28px}
    p{margin:0 0 18px;opacity:.85}
    .btns{display:flex;gap:14px;justify-content:center;flex-wrap:wrap}
    button{
      border:0; padding:14px 18px; border-radius:14px; font-size:18px;
      cursor:pointer; transition: transform .12s ease;
      box-shadow: 0 8px 18px rgba(0,0,0,.12);
    }
    #yes{background:#ff3b6e;color:white}
    #yes:active{transform:scale(.98)}
    #no{
      background:#fff;color:#222;
      position:absolute; /* pour pouvoir le dÃ©placer */
      left:50%; top:72%;
      transform: translate(-50%,-50%);
    }
    .hearts{
      position:absolute; inset:0; pointer-events:none;
      overflow:hidden; border-radius:22px;
    }
    .heart{
      position:absolute; bottom:-20px; font-size:18px; opacity:.8;
      animation: floatUp linear forwards;
    }
    @keyframes floatUp{
      to{ transform: translateY(-120vh) rotate(360deg); opacity:0; }
    }
    .result{
      margin-top:14px;
      font-size:20px;
      display:none;
    }
    .show{display:block}
  </style>
</head>
<body>
  <div class="card" id="card">
    <div class="hearts" id="hearts"></div>

    <h1>Veux-tu Ãªtre ma Valentine? ğŸ’˜</h1>
    <p>(RÃ©ponds bienâ€¦ sinon le bouton â€œNonâ€ est timide ğŸ˜…)</p>

    <div class="btns">
      <button id="yes">Oui ğŸ˜</button>
      <!-- "Non" est en absolute, donc pas dans le flux -->
      <button id="no">Non ğŸ™ƒ</button>
    </div>

    <div class="result" id="result">
      Yesss!! ğŸ¥°ğŸ’ Je tâ€™aime fort. PrÃ©pare-toi pour une surprise ğŸ˜˜
    </div>
  </div>

  <script>
    const noBtn = document.getElementById("no");
    const yesBtn = document.getElementById("yes");
    const result = document.getElementById("result");
    const card = document.getElementById("card");
    const hearts = document.getElementById("hearts");

    function rand(min, max){ return Math.random() * (max - min) + min; }

    function moveNoButton(){
      const pad = 12;

      const cardRect = card.getBoundingClientRect();
      const btnRect = noBtn.getBoundingClientRect();

      const minX = pad;
      const maxX = cardRect.width - btnRect.width - pad;
      const minY = 140; // pour Ã©viter de couvrir le titre
      const maxY = cardRect.height - btnRect.height - pad;

      const x = rand(minX, maxX);
      const y = rand(minY, maxY);

      noBtn.style.left = x + "px";
      noBtn.style.top = y + "px";
      noBtn.style.transform = "none";
    }

    // Sur mobile: toucher / approche
    noBtn.addEventListener("mouseenter", moveNoButton);
    noBtn.addEventListener("touchstart", (e) => { e.preventDefault(); moveNoButton(); }, {passive:false});
    noBtn.addEventListener("click", (e) => { e.preventDefault(); moveNoButton(); });

    yesBtn.addEventListener("click", () => {
      result.classList.add("show");
      yesBtn.disabled = true;
      noBtn.disabled = true;
      noBtn.style.display = "none";
      confettiHearts();
    });

    function confettiHearts(){
      for(let i=0;i<28;i++){
        const s = document.createElement("div");
        s.className = "heart";
        s.textContent = ["ğŸ’–","ğŸ’˜","ğŸ’","ğŸ’•","â¤ï¸"][Math.floor(rand(0,5))];
        s.style.left = rand(0, 100) + "%";
        s.style.animationDuration = rand(2.2, 4.2) + "s";
        s.style.fontSize = rand(16, 28) + "px";
        s.style.opacity = rand(0.6, 1);
        hearts.appendChild(s);
        setTimeout(()=>s.remove(), 4500);
      }
    }

    // position initiale un peu random
    moveNoButton();
  </script>
</body>
</html>
